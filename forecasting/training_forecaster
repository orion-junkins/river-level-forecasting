from forecasting.forecaster_abc import Forecaster_ABC
from forecasting.training_dataset import TrainingDataset
from darts.models.forecasting.regression_ensemble_model import RegressionEnsembleModel

class TrainingForecaster(Forecaster_ABC):
    def __init__(self, ensemble, **kwargs) -> None:
        super().__init__(**kwargs)
        
        self.ensemble = ensemble
        self.dataset = TrainingDataset(catchment_data=self.catchment_data)

    def fit(self):
        self.ensemble.fit(self.dataset.y, past_covariates=self.dataset.Xs)
        self.ensemble.save(self.ensemble_save_path)

            

